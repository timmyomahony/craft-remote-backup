{% extends "remote-core/settings" %}

{% import "_includes/forms" as forms %}
{% from "remote-core/macros" import configWarning %}

{% block customSettings %}
    {{ forms.lightswitchField({
        label: "Keep Local Backups"|t('remote-backup'),
        instructions: "Keep a copy of newly created backups locally on the server"|t('remote-backup'),
        name: 'keepLocal',
        id: 'keepLocal',
        on: settings.keepLocal,
        errors: settings.getErrors('keepLocal'),
        warning: configWarning('keepLocal', 'remote-backup')
    }) }}

    <hr>

    {{ forms.lightswitchField({
        label: "Prune Backups"|t('remote-backup'),
        instructions: "Delete old backups when new backup created"|t('remote-backup'),
        name: 'prune',
        id: 'prune',
        on: settings.prune,
        errors: settings.getErrors('prune'),
        warning: configWarning('prune', 'remote-backup')
    }) }}

    {{ forms.textField({
        label: "Hourly backups"|t('remote-backup'),
        type: "number",
        instructions: "The number of hourly backups to keep"|t('remote-backup'),
        name: 'pruneHourlyCount',
        id: 'pruneHourlyCount',
        value: settings.pruneHourlyCount,
        errors: settings.getErrors('pruneHourlyCount'),
        warning: configWarning('pruneHourlyCount', 'remote-backup')
    }) }}

    {{ forms.textField({
        label: "Daily backups"|t('remote-backup'),
        type: "number",
        instructions: "The number of daily backups to keep"|t('remote-backup'),
        name: 'pruneDailyCount',
        id: 'pruneDailyCount',
        value: settings.pruneDailyCount,
        errors: settings.getErrors('pruneDailyCount'),
        warning: configWarning('pruneDailyCount', 'remote-backup')
    }) }}

    {{ forms.textField({
        label: "Weekly backups"|t('remote-backup'),
        type: "number",
        instructions: "The number of weekly backups to keep"|t('remote-backup'),
        name: 'pruneWeeklyCount',
        id: 'pruneWeeklyCount',
        value: settings.pruneWeeklyCount,
        errors: settings.getErrors('pruneWeeklyCount'),
        warning: configWarning('pruneWeeklyCount', 'remote-backup')
    }) }}

    {{ forms.textField({
        label: "Monthly backups"|t('remote-backup'),
        type: "number",
        instructions: "The number of monthly backups to keep"|t('remote-backup'),
        name: 'pruneMonthlyCount',
        id: 'pruneMonthlyCount',
        value: settings.pruneMonthlyCount,
        errors: settings.getErrors('pruneMonthlyCount'),
        warning: configWarning('pruneMonthlyCount', 'remote-backup')
    }) }}

    {{ forms.textField({
        label: "Yearly backups"|t('remote-backup'),
        type: "number",
        instructions: "The number of yearly backups to keep"|t('remote-backup'),
        name: 'pruneYearlyCount',
        id: 'pruneYearlyCount',
        value: settings.pruneYearlyCount,
        errors: settings.getErrors('pruneYearlyCount'),
        warning: configWarning('pruneYearlyCount', 'remote-backup')
    }) }}
{% endblock %}